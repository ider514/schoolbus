(function(t){function e(e){for(var s,r,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],s=!0,i=1;i<o.length;i++){var l=o[i];0!==a[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=o[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=s,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(o,s,function(e){return t[e]}.bind(null,s));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var s=o("85ec"),a=o.n(s);a.a},"1a10":function(t,e,o){"use strict";var s=o("a07e"),a=o.n(s);a.a},2902:function(t,e,o){},4720:function(t,e,o){t.exports=o.p+"../static/img/logo.1ba4b1df.png"},"56d7":function(t,e,o){"use strict";o.r(e);o("f9e3");var s=o("9f7b"),a=o.n(s),n=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},i=[],l=(o("034f"),o("2877")),c={},u=Object(l["a"])(c,r,i,!1,null,null,null),d=u.exports,m=o("8c4f"),h=o("2f62");n["default"].use(h["a"]);const p=new h["a"].Store({state:{client:!1,admin:!1,client_name:"",stop:[]},mutations:{setStop(t,e){t.stop.push(e)},setInfo(t,e){t.info=e},setName(t,e){t.client_name=e},setClient(t,e){t.client=e},setAdmin(t,e){t.admin=e}}});var v=p,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-10"},[o("h1",[t._v("Books")]),o("hr"),o("br"),o("br"),t.showMessage?o("alert",{attrs:{message:t.message}}):t._e(),o("button",{directives:[{name:"b-modal",rawName:"v-b-modal.book-modal",modifiers:{"book-modal":!0}}],staticClass:"btn btn-success btn-sm",attrs:{type:"button"}},[t._v(" Add Book ")]),o("br"),o("br"),o("table",{staticClass:"table table-hover"},[t._m(0),o("tbody",t._l(t.books,(function(e,s){return o("tr",{key:s},[o("td",[t._v(t._s(e.title))]),o("td",[t._v(t._s(e.author))]),o("td",[e.read?o("span",[t._v("Yes")]):o("span",[t._v("No")])]),o("td",[o("div",{staticClass:"btn-group",attrs:{role:"group"}},[o("button",{directives:[{name:"b-modal",rawName:"v-b-modal.book-update-modal",modifiers:{"book-update-modal":!0}}],staticClass:"btn btn-warning btn-sm",attrs:{type:"button"},on:{click:function(o){return t.editBook(e)}}},[t._v(" Update ")]),o("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(o){return t.onDeleteBook(e)}}},[t._v(" Delete ")])])])])})),0)])],1)]),o("b-modal",{ref:"addBookModal",attrs:{id:"book-modal",title:"Add a new book","hide-footer":""}},[o("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[o("b-form-group",{attrs:{id:"form-title-group",label:"Title:","label-for":"form-title-input"}},[o("b-form-input",{attrs:{id:"form-title-input",type:"text",required:"",placeholder:"Enter title"},model:{value:t.addBookForm.title,callback:function(e){t.$set(t.addBookForm,"title",e)},expression:"addBookForm.title"}})],1),o("b-form-group",{attrs:{id:"form-author-group",label:"Author:","label-for":"form-author-input"}},[o("b-form-input",{attrs:{id:"form-author-input",type:"text",required:"",placeholder:"Enter author"},model:{value:t.addBookForm.author,callback:function(e){t.$set(t.addBookForm,"author",e)},expression:"addBookForm.author"}})],1),o("b-form-group",{attrs:{id:"form-read-group"}},[o("b-form-checkbox-group",{attrs:{id:"form-checks"},model:{value:t.addBookForm.read,callback:function(e){t.$set(t.addBookForm,"read",e)},expression:"addBookForm.read"}},[o("b-form-checkbox",{attrs:{value:"true"}},[t._v(" Read? ")])],1)],1),o("b-button-group",[o("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v(" Submit ")]),o("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v(" Reset ")])],1)],1)],1),o("b-modal",{ref:"editBookModal",attrs:{id:"book-update-modal",title:"Update","hide-footer":""}},[o("b-form",{staticClass:"w-100",on:{submit:t.onSubmitUpdate,reset:t.onResetUpdate}},[o("b-form-group",{attrs:{id:"form-title-edit-group",label:"Title:","label-for":"form-title-edit-input"}},[o("b-form-input",{attrs:{id:"form-title-edit-input",type:"text",required:"",placeholder:"Enter title"},model:{value:t.editForm.title,callback:function(e){t.$set(t.editForm,"title",e)},expression:"editForm.title"}})],1),o("b-form-group",{attrs:{id:"form-author-edit-group",label:"Author:","label-for":"form-author-edit-input"}},[o("b-form-input",{attrs:{id:"form-author-edit-input",type:"text",required:"",placeholder:"Enter author"},model:{value:t.editForm.author,callback:function(e){t.$set(t.editForm,"author",e)},expression:"editForm.author"}})],1),o("b-form-group",{attrs:{id:"form-read-edit-group"}},[o("b-form-checkbox-group",{attrs:{id:"form-checks"},model:{value:t.editForm.read,callback:function(e){t.$set(t.editForm,"read",e)},expression:"editForm.read"}},[o("b-form-checkbox",{attrs:{value:"true"}},[t._v(" Read? ")])],1)],1),o("b-button-group",[o("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v(" Update ")]),o("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v(" Cancel ")])],1)],1)],1)],1)},f=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v(" Title ")]),o("th",{attrs:{scope:"col"}},[t._v(" Author ")]),o("th",{attrs:{scope:"col"}},[t._v(" Read? ")]),o("th")])])}],_=o("bc3a"),g=o.n(_),k={data(){return{books:[],addBookForm:{title:"",author:"",read:[]},message:"",showMessage:!1,editForm:{id:"",title:"",author:"",read:[]}}},created(){this.getBooks()},methods:{getBooks(){const t="http://localhost:5000/books";g.a.get(t).then(t=>{this.books=t.data.books}).catch(t=>{console.error(t)})},addBook(t){const e="http://localhost:5000/books";g.a.post(e,t).then(()=>{this.getBooks(),this.message="Book added!",this.showMessage=!0}).catch(t=>{console.log(t),this.getBooks()})},initForm(){this.addBookForm.title="",this.addBookForm.author="",this.addBookForm.read=[],this.editForm.id="",this.editForm.title="",this.editForm.author="",this.editForm.read=[]},onSubmit(t){t.preventDefault(),this.$refs.addBookModal.hide();let e=!1;this.addBookForm.read[0]&&(e=!0);const o={title:this.addBookForm.title,author:this.addBookForm.author,read:e};this.addBook(o),this.initForm()},onReset(t){t.preventDefault(),this.$refs.addBookModal.hide(),this.initForm()},editBook(t){this.editForm=t},onSubmitUpdate(t){t.preventDefault(),this.$refs.editBookModal.hide();let e=!1;this.editForm.read[0]&&(e=!0);const o={title:this.editForm.title,author:this.editForm.author,read:e};this.updateBook(o,this.editForm.id)},updateBook(t,e){const o=`http://localhost:5000/books/${e}`;g.a.put(o,t).then(()=>{this.getBooks(),this.message="Book updated!",this.showMessage=!0}).catch(t=>{console.error(t),this.getBooks()})},onResetUpdate(t){t.preventDefault(),this.$refs.editBookModal.hide(),this.initForm(),this.getBooks()},removeBook(t){const e=`http://localhost:5000/books/${t}`;g.a.delete(e).then(()=>{this.getBooks(),this.message="Book removed!",this.showMessage=!0}).catch(t=>{console.error(t),this.getBooks()})},onDeleteBook(t){this.removeBook(t.id)}}},w=k,C=Object(l["a"])(w,b,f,!1,null,null,null),y=C.exports,x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("body",[o("modal1",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],on:{close:t.closeModal}},[o("transition",{attrs:{name:"modal1"}},[o("div",{staticClass:"modal-mask1"},[o("div",{staticClass:"modal-container1"},[o("div",{staticClass:"modal-header1"},[o("h3",[t._v(" Шинэ Сурагч ")])]),o("div",{staticClass:"modal-body1"},[o("form",[t._v(" Нэр:"),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.username,expression:"newUser.username"}],attrs:{type:"text",name:"firstname"},domProps:{value:t.newUser.username},on:{input:function(e){e.target.composing||t.$set(t.newUser,"username",e.target.value)}}}),o("br"),t._v(" Нууц Үг:"),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"text",name:"firstname"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})])]),o("div",{staticClass:"modal-footer"},[o("a",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.addUser()}}},[t._v("Нэмэх")]),o("button",{staticClass:"modal-default-button",on:{click:function(e){return t.closeModal()}}},[t._v(" Хаах ")])])])])])],1),o("modal1",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible1,expression:"isModalVisible1"}],on:{close:t.closeModal1}},[o("transition",{attrs:{name:"modal1"}},[o("div",{staticClass:"modal-mask1"},[o("div",{staticClass:"modal-container1"},[o("div",{staticClass:"modal-header1"},[o("h3",[t._v(" Маршрут хувиаралах ")])]),o("div",{staticClass:"modal-body1"},[o("form",[t._v(" Автобус:"),o("br"),o("select",{staticClass:"form-control",on:{change:function(e){return t.changeBus(e)}}},[o("option",{attrs:{value:"",selected:"",disabled:""}},[t._v(" Сонгох ")]),t._l(t.buses,(function(e,s){return o("option",{key:s},[t._v(" "+t._s(e.licensenumber)+" ")])}))],2),o("br"),t._v(" Маршрут:"),o("br"),o("select",{staticClass:"form-control",on:{change:function(e){return t.changeRoute(e)}}},[o("option",{attrs:{value:"",selected:"",disabled:""}},[t._v(" Сонгох ")]),t._l(t.newConnection.routes,(function(e,s){return o("option",{key:s},[t._v(" "+t._s(e)+" ")])}))],2)])]),o("div",{staticClass:"modal-footer"},[o("a",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.connectRoute()}}},[t._v("Хувиаралах")]),o("button",{staticClass:"modal-default-button",on:{click:function(e){return t.closeModal1()}}},[t._v(" Хаах ")])])])])])],1),t._m(0),o("section",[o("div",{staticClass:"bus"},[o("h2",[t._v("Автобус")]),o("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.showModal1()}}},[t._v(" Хувиарлах ")]),o("table",{staticStyle:{width:"100%"}},[t._m(1),t._l(t.buses,(function(e,s){return o("tr",{key:s},[o("td",[t._v(t._s(e.id))]),o("td",[t._v(t._s(e.licensenumber))]),o("td",[t._v(t._s(e.phone))]),o("td",[t._v(t._s(e.route))])])}))],2)]),o("div",{staticClass:"route"},[o("h2",[t._v("Маршрут")]),o("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.showRouteAdd()}}},[t._v(" + ")]),o("table",{staticStyle:{width:"100%"}},[t._m(2),t._l(t.routes,(function(e,s){return o("tr",{key:s},[o("td",[t._v(t._s(e.name))]),o("td",[t._v(t._s(e.stop))]),o("td",[t._v(t._s(e.lat))]),o("td",[t._v(t._s(e.lon))])])}))],2)])]),o("div",{staticClass:"users"},[o("h2",[t._v("Сурагчид")]),o("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.showModal()}}},[t._v(" + ")]),o("table",{staticStyle:{width:"100%"}},[t._m(3),t._l(t.users,(function(e,s){return o("tr",{key:s},[o("td",[t._v(t._s(e.username))]),o("td",[t._v(t._s(e.password))])])}))],2)])],1)])},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top"},[s("img",{attrs:{src:o("4720")}}),s("h1",[t._v("SCHOOL BUS")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("th",[t._v("ID")]),o("th",[t._v("Дугаар")]),o("th",[t._v("Утас")]),o("th",[t._v("Маршрут")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("th",[t._v("Нэр")]),o("th",[t._v("Зогсоол")]),o("th",[t._v("Өргөрөг")]),o("th",[t._v("Уртраг")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("th",[t._v("Нэр")]),o("th",[t._v("Нууц үг")])])}],M={components:{},data(){return{newConnection:{bus:"",route:"",routes:[]},newUser:{username:"",password:""},isModalVisible:!1,isModalVisible1:!1,buses:[],users:[],routes:[]}},computed:{titles:function(){for(var t=[],e=0;e<this.routes.length;e++)for(var o=0;o<this.routes[e].length;o++)t.push(this.routes[e][o].name);return t}},mounted(){g.a.get(`http://68.183.187.255:5000/dash_buses/${v.state.client_name}`).then(t=>{this.buses=t.data,console.log(t)}),g.a.get(`http://68.183.187.255:5000/dash_routes/${v.state.client_name}`).then(t=>{this.routes=t.data,console.log(t)}),g.a.get(`http://68.183.187.255:5000/dash_users/${v.state.client_name}`).then(t=>{this.users=t.data,console.log(t)})},methods:{changeBus(t){this.newConnection.bus=t.target.options[t.target.options.selectedIndex].text},changeRoute(t){this.newConnection.route=t.target.options[t.target.options.selectedIndex].text},connectRoute(){if(0!==this.newConnection.bus.length&&0!==this.newConnection.route.length){const t="http://68.183.187.255:5000/dash_connect";g.a.post(t,{bus:this.newConnection.bus,route:this.newConnection.route,school:v.state.client_name}).then(t=>{console.error(t)}).catch(t=>{console.error(t)})}},addUser(){if(0!==this.newUser.password.length&&0!==this.newUser.username.length){const t="http://68.183.187.255:5000/dash_users/1";g.a.post(t,{user:this.newUser,username:v.state.client_name}).then(t=>{console.error(t)}).catch(t=>{console.error(t)})}},showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},showModal1(){var t;for(this.isModalVisible1=!0,t=0;t<this.routes.length;t++)this.newConnection.routes.push(this.routes[t].name);this.newConnection.routes=this.newConnection.routes.filter(t=>t)},closeModal1(){this.isModalVisible1=!1},showRouteAdd(){this.$router.replace("/route")}}},$=M,F=(o("f994"),Object(l["a"])($,x,B,!1,null,null,null)),S=F.exports,E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("body",[o("modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],on:{close:t.closeModal}},[o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-header"},[o("h3",[t._v(" Зогсоол ")])]),o("div",{staticClass:"modal-body"},[o("form",[t._v(" Нэр:"),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.stop.name,expression:"stop.name"}],attrs:{type:"text",name:"firstname"},domProps:{value:t.stop.name},on:{input:function(e){e.target.composing||t.$set(t.stop,"name",e.target.value)}}}),o("br"),t._v(" Өргөрөг:"),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.stop.lat,expression:"stop.lat"}],attrs:{type:"text",name:"firstname"},domProps:{value:t.stop.lat},on:{input:function(e){e.target.composing||t.$set(t.stop,"lat",e.target.value)}}}),o("br"),t._v(" Уртраг:"),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.stop.lon,expression:"stop.lon"}],attrs:{type:"text",name:"lastname"},domProps:{value:t.stop.lon},on:{input:function(e){e.target.composing||t.$set(t.stop,"lon",e.target.value)}}})])]),o("div",{staticClass:"modal-footer"},[o("a",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.addStop()}}},[t._v("Нэмэх")]),o("button",{staticClass:"modal-default-button",on:{click:function(e){return t.closeModal()}}},[t._v(" Хаах ")])])])])])])],1),t._m(0),o("section",[o("div",{staticClass:"addroute"},[o("h2",[t._v("Маршрут")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.route_name,expression:"route_name"}],attrs:{type:"text",name:"Маршруутын Нэр",placeholder:"Маршруутын Нэр"},domProps:{value:t.route_name},on:{input:function(e){e.target.composing||(t.route_name=e.target.value)}}}),o("table",[t._m(1),t._l(t.routes,(function(e,s){return o("tr",{key:s},[o("td",[t._v(t._s(e.name))]),o("td",[t._v(t._s(e.lat))]),o("td",[t._v(t._s(e.lon))])])}))],2),o("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.showModal()}}},[t._v(" Зогсоол Нэмэх ")]),o("a",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.addRoute()}}},[t._v("Маршрут Нэмэх")])])])],1)])},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top"},[s("img",{attrs:{src:o("4720")}}),s("h1",[t._v("SCHOOL BUS")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("th",[t._v("Нэр")]),o("th",[t._v("Өргөрөг")]),o("th",[t._v("Уртраг")])])}],U={data(){return{isModalVisible:!1,routes:[],route_name:"",stop:{lon:"",lat:"",name:""}}},methods:{cloneRoute(t){var e={};for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},addStop(){if(0!==this.stop.name.length&&0!==this.stop.lon.length&&0!==this.stop.lat.length){var t=this.cloneRoute(this.stop);this.routes.push(t),this.isModalVisible=!1}},addRoute(){const t="http://68.183.187.255:5000/dash_routes/1";g.a.post(t,{route:this.routes,username:v.state.client_name,route_name:this.route_name}).then(t=>{console.error(t)}).catch(t=>{console.error(t)})}}},V=U,N=(o("77ff"),Object(l["a"])(V,E,O,!1,null,null,null)),R=N.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"my-login-page"},[o("section",{staticClass:"h-100"},[o("div",{staticClass:"container h-100"},[o("div",{staticClass:"row justify-content-md-center"},[o("div",{staticClass:"col-md-7 col-lg-5"},[t._m(0),o("div",{staticClass:"card fat"},[o("div",{staticClass:"card-body"},[o("h4",{staticClass:"card-title"},[t._v(" Нэвтрэх ")]),o("form",[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"email"}},[t._v("Нэр үг")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",attrs:{id:"email",type:"text",required:"",autofocus:""},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"password"}},[t._v("Нүүц үг")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",required:"","data-eye":""},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})]),o("div",{staticClass:"form-group"}),o("div",{staticClass:"form-group no-margin"},[o("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(e){return t.onSubmit()}}},[t._v(" Нэвтрэх ")])])])])])])])])])])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center"},[s("img",{attrs:{src:o("4720")}})])}],A={data(){return{login:{email:"",password:""},response:""}},mounted(){document.title="School-Bus"},methods:{onLogin(){const t=`http://68.183.187.255:5000/dash_login/${this.login.email}/${this.login.password}`;g.a.get(t).then(t=>{"admin"===t.data&&(this.$store.commit("setAdmin",!0),this.$router.replace("/admin")),"success"===t.data&&(this.$store.commit("setClient",!0),this.$store.commit("setName",this.login.email),this.$router.replace("/client")),"error"===t.data&&console.log(error),console.log(t)}).catch(t=>{console.error(t)})},onSubmit(){""!==this.login.email&&""!==this.login.password&&this.onLogin()}}},D=A,L=(o("9ce0"),Object(l["a"])(D,P,j,!1,null,null,null)),T=L.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"sidebar sidebar-dark bg-dark"},[o("ul",{staticClass:"list-unstyled"},[o("li",[o("router-link",{staticClass:"nav-link",attrs:{to:"/allbuses"}},[o("i",{staticClass:"icon fa fa-home"}),t._v(" Автуснууд ")])],1),o("li",[o("router-link",{staticClass:"nav-link",attrs:{to:"/allschools"}},[o("i",{staticClass:"icon fa fa-edit"}),t._v(" Сургуулиуд ")])],1),o("li",[o("router-link",{staticClass:"nav-link",attrs:{to:"/alerts"}},[o("i",{staticClass:"icon fa fa-comment-alt"}),t._v(" Alerts ")])],1),o("li",[o("router-link",{staticClass:"nav-link",attrs:{to:"/tables"}},[o("i",{staticClass:"icon fa fa-table"}),t._v(" Tables ")])],1),o("li",[o("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[o("i",{staticClass:"icon fa fa-sign-in-alt"}),t._v(" Login ")])],1),o("li",[o("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[o("i",{staticClass:"icon fa fa-user-plus"}),t._v(" Register ")])],1)])])])},I=[],H={mounted(){}},J=H,Y=Object(l["a"])(J,q,I,!1,null,null,null),z=Y.exports,G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("Бүx Автус")]),o("table",{staticClass:"table table-striped"},[t._m(0),o("tbody",t._l(t.buses,(function(e,s){return o("tr",{key:s},[o("th",{attrs:{scope:"row"}},[t._v(" "+t._s(e.licensenumber)+" ")]),o("td",[t._v(t._s(e.phone))]),o("td",[t._v(t._s(e.id))])])})),0)])])},K=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",[t._v("#")]),o("th",[t._v("Дугаар")]),o("th",[t._v("Id")])])])}],Q={data(){return{buses:[]}},mounted(){const t="http://68.183.187.255:5000/dash_buses/all";g.a.get(t).then(t=>{this.buses=t.data}),document.title="School-Bus"}},W=Q,X=Object(l["a"])(W,G,K,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("tr",[o("modal2",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],on:{close:t.closeModal}},[o("transition",{attrs:{name:"modal2"}},[o("div",{staticClass:"modal-mask2"},[o("div",{staticClass:"modal-container2"},[o("div",{staticClass:"modal-header2"},[o("h3",[t._v(" Шинэ Автобус ")])]),o("div",{staticClass:"modal-body2"},[o("form",[t._v(" Дугаар:"),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newbus.number,expression:"newbus.number"}],attrs:{type:"text",name:"firstname"},domProps:{value:t.newbus.number},on:{input:function(e){e.target.composing||t.$set(t.newbus,"number",e.target.value)}}})])]),o("div",{staticClass:"modal-footer"},[o("a",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.addBus()}}},[t._v("Нэмэх")]),o("button",{staticClass:"modal-default-button",on:{click:function(e){return t.closeModal()}}},[t._v(" Хаах ")])])])])])],1),o("h1",[t._v("Сургуулиуд")])],1),o("form",[t._v(" Сургуулийн нэр:"),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.school.email,expression:"school.email"}],attrs:{type:"text",name:"firstname"},domProps:{value:t.school.email},on:{input:function(e){e.target.composing||t.$set(t.school,"email",e.target.value)}}}),o("br"),t._v(" Нүүц үг:"),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.school.password,expression:"school.password"}],attrs:{type:"text",name:"lastname"},domProps:{value:t.school.password},on:{input:function(e){e.target.composing||t.$set(t.school,"password",e.target.value)}}})]),o("button",{attrs:{type:"button"},on:{click:function(e){return t.addSchool()}}},[t._v(" Нэмэх ")]),o("table",{staticClass:"table table-striped"},[t._m(0),o("tbody",t._l(t.schools,(function(e){return o("tr",{key:e},[o("th",{attrs:{scope:"row"}},[t._v(" "+t._s(e.username)+" ")]),o("td",[t._v(t._s(e.buses))]),o("td",[t._v(t._s(e._id))])])})),0)])])},et=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",[t._v("Нэр")]),o("th",[t._v("Дугаар")]),o("th",[t._v("Id")])])])}],ot={data(){return{newbus:{number:"",school:""},school:{email:"",password:""},isModalVisible:!1,schools:[]}},mounted(){const t="http://68.183.187.255:5000/dash_schools/1/1";g.a.get(t).then(t=>{this.schools=t.data,console.log(t)}).catch(t=>{console.error(t)}),document.title="School-Bus"},methods:{showModal(t){this.newbus.school=t,this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},addSchool(){const t=`http://68.183.187.255:5000/dash_schools/${this.school.email}/${this.school.password}`;g.a.post(t).catch(t=>{console.error(t)})},addBus(){const t=`http://68.183.187.255:5000/dash_buses/${this.newbus.school}`;g.a.post(t,{bus:this.newbus.number}).then(t=>{console.error(t)}).catch(t=>{console.error(t)})}}},st=ot,at=(o("1a10"),Object(l["a"])(st,tt,et,!1,null,null,null)),nt=at.exports;n["default"].use(m["a"]);var rt=new m["a"]({mode:"history",base:"",routes:[{path:"/",redirect:{name:"Login"}},{path:"/books",name:"Books",component:y},{path:"/allbuses",name:"Buses",component:Z,beforeEnter:(t,e,o)=>{!1===v.state.admin?o(!1):o()}},{path:"/allschools",name:"Schools",component:nt,beforeEnter:(t,e,o)=>{!1===v.state.admin?o(!1):o()}},{path:"/client",name:"Client",component:S,beforeEnter:(t,e,o)=>{!1===v.state.client?o(!1):o()}},{path:"/route",name:"Route",component:R,beforeEnter:(t,e,o)=>{!1===v.state.client?o(!1):o()}},{path:"/login",name:"Login",component:T},{path:"/admin",name:"admin",component:z,beforeEnter:(t,e,o)=>{!1===v.state.admin?o(!1):o()}}]});n["default"].use(a.a),n["default"].config.productionTip=!1,new n["default"]({router:rt,render:t=>t(d),store:v}).$mount("#app")},"77ff":function(t,e,o){"use strict";var s=o("adaf"),a=o.n(s);a.a},"85ec":function(t,e,o){},"9ce0":function(t,e,o){"use strict";var s=o("d64c"),a=o.n(s);a.a},a07e:function(t,e,o){},adaf:function(t,e,o){},d64c:function(t,e,o){},f994:function(t,e,o){"use strict";var s=o("2902"),a=o.n(s);a.a}});
//# sourceMappingURL=app.905c7b23.js.map